<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Tic Tac Toe</title>
</head>
<body>
<h3>Caro Game Simple</h3>
<p id="carogame"/>
<script>
    let b = document.getElementById("carogame");
    let array = [];
    let data = "";
    let check = true;
    for (let i = 0; i < 5; i++) {
        array[i] = ["", "", "", "", ""];
    }

    function displayCaro() {
        data = "<table border=1>"
        for (let row = 0; row < 5; row++) {
            data += "<tr>";
            for (let col = 0; col < 5; col++) {
                data += "<td align='center' style='width:30px;height:30px ' onclick='changeValue(" + row + "," + col + ");'>" + array[row][col] + "</td>";
            }
            data += "</tr>"
        }
        b.innerHTML = data;
    }

    function changeValue(row, col) {
        if (check && checked(row, col)) {
            array[row][col] = "X";
            check = false;
            if (checkWinX()) {
                alert("X win")
            }

        } else if (!check && checked(row, col)) {
            array[row][col] = "O";
            check = true;
            if (checkWinO()) {
                alert("O win")
            }
        }
        displayCaro();
    }

    function checked(row, col) {
        if (array[row][col] === "O" || array[row][col] === "X") {
            alert("This one has been selected. Select another please!!!");
            return false;
        }
        return true;
    }

    function checkWinX() {
        for (let i = 0; i < array.length; i++) {
            for (let j = 0; j < array.length; j++) {
                if (array[i][j] === "X") {
                    if (array[i][j + 1] === "X" && array[i][j + 2] === "X") {
                        return true;
                    }
                    if (array[i + 1][j] === "X" && array[i + 2][j] === "X") {
                        return true;
                    }
                    if (array[i + 1][j+1] === "X" && array[i + 2][j+2] === "X") {
                        return true;
                    }
                    ///
                    if (array[i + 1][j - 1] === "X" && array[i + 2][j - 2] === "X") {
                        return true;
                    }
                }
            }
        }
        return false;
    }

    function checkWinO() {
        for (let i = 0; i < array.length; i++) {
            for (let j = 0; j < array.length; j++) {
                if (array[i][j] === "O") {
                    if (array[i][j + 1] === "O" && array[i][j + 2] === "O") {
                        return true;
                    }
                    if (array[i + 1][j] === "O" && array[i + 2][j] === "O") {
                        return true;
                    }
                    if (array[i + 1][j+1] === "O" && array[i + 2][j+2] === "O") {
                        return true;
                    }
                   ////
                    if (array[i + 1][j - 1] === "O" && array[i + 2][j - 2] === "O") {
                        return true;
                    }
                }
            }
        }
        return false;
    }

    displayCaro();
</script>
</body>
</html>